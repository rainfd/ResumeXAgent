# 基础设施和部署

定义部署架构和实践，针对本地部署场景优化：

## 基础设施即代码
- **工具：** Node.js脚本 + Shell脚本
- **位置：** `scripts/`
- **方法：** 自动化脚本处理环境设置、依赖安装、数据库初始化

## 部署策略
- **策略：** 本地部署，生产构建打包
- **CI/CD平台：** GitHub Actions（用于构建和发布）
- **管道配置：** `.github/workflows/release.yml`

## 环境

- **开发环境：** 本地开发服务器，使用`npm run dev`，热重载支持
- **生产环境：** 本地生产构建，使用`npm run build && npm start`，优化的静态资源

## 环境推广流程

```
开发 (本地) → 构建测试 → 生产构建 → 本地部署
     ↓           ↓           ↓           ↓
  npm run dev  npm test  npm run build  npm start
```

## 回滚策略
- **主要方法：** 版本控制回滚，保留多个版本的构建产物
- **触发条件：** 启动失败、核心功能异常、数据库迁移失败
- **恢复时间目标：** 5分钟（切换到上一个稳定版本）

## 本地部署指南

```bash