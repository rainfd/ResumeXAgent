# 外部API

基于PRD需求和组件设计，以下是项目需要集成的外部服务：

## OpenRouter API

- **目的：** 提供多种AI模型的统一访问接口，支持模型灵活切换
- **文档：** https://openrouter.ai/docs
- **基础URL：** https://openrouter.ai/api/v1
- **认证：** Bearer Token (API Key)
- **速率限制：** 根据订阅计划，通常为60请求/分钟

**关键端点使用：**
- `POST /chat/completions` - 发送聊天完成请求，用于简历分析、STAR检测、优化建议

**集成注意事项：** 
- 需要在环境变量中配置OPENROUTER_API_KEY
- 实现请求重试机制处理临时失败
- 缓存相同输入的响应以减少API调用成本
- 支持模型选择参数，允许用户选择不同的AI模型

## DeepSeek API

- **目的：** 专门处理中文内容的AI分析，提供高性价比的中文处理能力
- **文档：** https://platform.deepseek.com/docs
- **基础URL：** https://api.deepseek.com/v1
- **认证：** API Key认证
- **速率限制：** 100请求/分钟（基础套餐）

**关键端点使用：**
- `POST /chat/completions` - 中文简历解析、岗位JD分析、HR沟通内容生成

**集成注意事项：**
- 需要在环境变量中配置DEEPSEEK_API_KEY
- 优先用于中文内容处理以获得更好效果
- 实现字符计数以控制成本
- 支持流式响应以提升用户体验

## Boss直聘（通过Playwright浏览器）

- **目的：** 获取岗位JD信息（非API，通过浏览器自动化）
- **文档：** 无官方API，使用网页爬取
- **基础URL：** https://www.zhipin.com
- **认证：** 可能需要用户手动登录/验证码
- **速率限制：** 需要合理控制爬取频率避免封禁

**关键页面交互：**
- 打开岗位详情页
- 等待页面加载完成
- 提取岗位标题、公司、要求、描述等信息
- 处理可能的登录提示或验证码

**集成注意事项：**
- 使用有头浏览器模式让用户可以手动处理验证
- 实现页面元素定位的容错机制
- 定期更新选择器以适应网站变化
- 遵守robots.txt和合理使用原则
