# 技术栈

这是**定义性**的技术选择部分。以下选择是整个项目的唯一真理源 - 所有其他文档必须引用这些选择。

## 云基础设施

- **提供商：** 无（本地部署）
- **核心服务：** 本地文件系统、SQLite数据库、Node.js运行时
- **部署区域：** 本地环境

## 技术栈表

| 类别             | 技术            | 版本    | 目的               | 理由                                                    |
| ---------------- | --------------- | ------- | ------------------ | ------------------------------------------------------- |
| **语言**         | TypeScript      | 5.3.3   | 主要开发语言       | 强类型支持，优秀工具链，团队专业性，Next.js官方推荐     |
| **运行时**       | Node.js         | 20.11.0 | JavaScript运行时   | LTS版本，稳定性能，广泛生态系统，Next.js要求            |
| **框架**         | Next.js         | 14.2.0  | 全栈框架           | 官方支持SSR/SSG，API路由，文件路由系统，符合PRD全栈要求 |
| **UI框架**       | React           | 18.3.0  | 前端UI库           | Next.js内置，组件生态丰富，开发体验优秀                 |
| **样式**         | Tailwind CSS    | 3.4.0   | 样式框架           | 快速开发，原子化CSS，良好的DX，PRD推荐                  |
| **组件库**       | shadcn/ui       | latest  | UI组件库           | 程序员友好，高质量组件，可定制，PRD推荐                 |
| **数据库**       | SQLite          | 3.45.0  | 轻量级数据库       | 无服务器，本地文件存储，零配置，适合单用户场景          |
| **数据库客户端** | better-sqlite3  | 9.4.0   | Node.js SQLite驱动 | 同步API，高性能，类型安全的数据库操作                   |
| **浏览器自动化** | Playwright      | 1.42.0  | Web爬虫和自动化    | 有头浏览器支持，多浏览器兼容，处理验证码场景            |
| **文件解析**     | pdf-parse       | 1.1.1   | PDF文档解析        | 纯JavaScript实现，无外部依赖，中文支持好                |
| **Markdown解析** | marked          | 12.0.0  | Markdown处理       | 轻量级，扩展性好，渲染速度快                            |
| **AI API**       | OpenRouter      | latest  | 多模型AI接口       | 统一接口访问多种模型，成本控制，灵活选择                |
| **AI API**       | DeepSeek        | latest  | 中文AI模型         | 中文处理优秀，成本效益高，PRD明确要求                   |
| **HTTP客户端**   | axios           | 1.6.0   | HTTP请求库         | 拦截器支持，错误处理，超时控制                          |
| **环境配置**     | dotenv          | 16.4.0  | 环境变量管理       | API密钥安全管理，开发生产环境分离                       |
| **代码质量**     | ESLint          | 8.57.0  | 代码检查           | 代码规范，错误预防，Next.js官方配置                     |
| **代码格式**     | Prettier        | 3.2.0   | 代码格式化         | 统一代码风格，自动格式化，团队协作                      |
| **类型检查**     | TypeScript      | 5.3.3   | 类型检查器         | 编译时类型检查，IDE支持，重构安全                       |
| **测试框架**     | Playwright Test | 1.42.0  | 端到端测试         | 符合PRD测试要求，浏览器自动化，完整用户流程测试         |
| **包管理**       | npm             | 10.5.0  | 包管理工具         | Node.js默认，简单可靠，无额外配置                       |
