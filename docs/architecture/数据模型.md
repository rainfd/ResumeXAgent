# 数据模型

定义核心数据模型/实体，基于PRD需求识别的关键业务实体：

## Resume（简历）

**目的：** 存储用户上传的简历信息和解析结果

**关键属性：**
- id: string (UUID) - 唯一标识符
- original_filename: string - 原始文件名
- file_type: string - 文件类型（pdf/markdown/txt）
- raw_text: text - 原始文本内容
- parsed_data: json - 结构化解析数据
- basic_info: json - 基本信息（姓名、联系方式、职位）
- education: json - 教育背景
- work_experience: json - 工作经历
- projects: json - 项目经历
- skills: json - 技能列表
- created_at: datetime - 创建时间
- updated_at: datetime - 更新时间

**关系：**
- 一对多关系到 Analysis（一份简历可以有多个分析）
- 一对多关系到 JobMatch（一份简历可以匹配多个岗位）

## Job（岗位）

**目的：** 存储岗位JD信息和解析的关键要求

**关键属性：**
- id: string (UUID) - 唯一标识符
- url: string - 岗位来源URL
- title: string - 职位名称
- company: string - 公司名称
- location: string - 工作地点
- salary_range: string - 薪资范围
- experience_required: string - 经验要求
- education_required: string - 学历要求
- raw_description: text - 原始岗位描述
- parsed_requirements: json - 解析的要求
- technical_skills: json - 技术技能要求
- soft_skills: json - 软技能要求
- responsibilities: json - 工作职责
- company_info: json - 公司背景信息
- created_at: datetime - 创建时间

**关系：**
- 一对多关系到 JobMatch（一个岗位可以匹配多份简历）
- 一对多关系到 Analysis（一个岗位可以有多个分析）

## Analysis（分析）

**目的：** 存储AI分析结果，包括STAR检测、优化建议等

**关键属性：**
- id: string (UUID) - 唯一标识符
- resume_id: string - 关联简历ID
- job_id: string (nullable) - 关联岗位ID（可选）
- analysis_type: string - 分析类型（star_check/optimization/grammar_check等）
- ai_model: string - 使用的AI模型
- results: json - 分析结果
- suggestions: json - 改进建议
- score: float - 评分（如适用）
- created_at: datetime - 创建时间

**关系：**
- 多对一关系到 Resume
- 多对一关系到 Job（可选）

## JobMatch（岗位匹配）

**目的：** 存储简历与岗位的匹配分析结果

**关键属性：**
- id: string (UUID) - 唯一标识符
- resume_id: string - 关联简历ID
- job_id: string - 关联岗位ID
- match_score: float - 匹配度评分（0-100）
- skill_match: json - 技能匹配详情
- experience_match: json - 经验匹配详情
- education_match: json - 教育匹配详情
- strengths: json - 优势分析
- gaps: json - 差距分析
- recommendations: json - 改进建议
- hr_message: text - 生成的HR打招呼内容
- created_at: datetime - 创建时间

**关系：**
- 多对一关系到 Resume
- 多对一关系到 Job

## CustomPrompt（自定义提示）

**目的：** 存储用户自定义的AI分析提示词

**关键属性：**
- id: string (UUID) - 唯一标识符
- name: string - 提示名称
- description: string - 描述
- prompt_template: text - 提示词模板
- ai_model: string - 推荐的AI模型
- category: string - 分类（面试准备/简历优化等）
- usage_count: integer - 使用次数
- created_at: datetime - 创建时间
- updated_at: datetime - 更新时间

**关系：**
- 无直接关系，作为模板使用
