# 编码标准

这些标准是**强制性**的AI代理要求。仅包含防止错误代码的关键规则：

## 核心标准

- **语言和运行时：** TypeScript 5.3.3, Node.js 20.11.0
- **样式和代码检查：** ESLint配置文件`.eslintrc.json`，Prettier配置文件`.prettierrc`
- **测试组织：** 测试文件与源文件同名，后缀`.spec.ts`或`.test.ts`

## 命名约定

| 元素      | 约定              | 示例                       |
| --------- | ----------------- | -------------------------- |
| 文件名    | kebab-case        | `resume-parser.service.ts` |
| 类名      | PascalCase        | `ResumeParserService`      |
| 接口名    | PascalCase带I前缀 | `IResumeData`              |
| 函数名    | camelCase         | `parseResume()`            |
| 常量      | UPPER_SNAKE_CASE  | `MAX_FILE_SIZE`            |
| 组件文件  | kebab-case        | `resume-uploader.tsx`      |
| React组件 | PascalCase        | `ResumeUploader`           |

## 关键规则

- **禁止console.log：** 生产代码必须使用logger服务，不得使用console.log
- **API响应包装：** 所有API响应必须使用统一的ApiResponse类型包装
- **数据库访问：** 必须通过Repository层访问数据库，禁止直接使用SQLite客户端
- **错误处理：** 所有async函数必须有try-catch，错误必须记录到日志
- **环境变量：** API密钥必须从环境变量读取，禁止硬编码
- **类型安全：** 禁止使用any类型，必须定义明确的接口和类型
- **导入顺序：** 外部库 → 内部模块 → 类型定义，组间空行分隔

## TypeScript特定规则

- **严格模式：** tsconfig.json必须开启strict: true
- **空值检查：** 使用可选链(?.)和空值合并(??)处理可能的null/undefined
- **类型导出：** 类型定义放在.types.ts文件中，使用export type导出
- **枚举使用：** 优先使用const枚举减少运行时开销
- **异步优先：** 使用async/await而非Promise链式调用
